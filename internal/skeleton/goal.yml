# goal.yml is a configuration file of "goal run" file watcher / task runner.
init:
  # Commands of this section will be executed once per start of `goal run`.
  - /echo "Starting work on 'github.com/colegion/goal/internal/skeleton'"
  - go generate ./...
  - go get github.com/colegion/goal/internal/skeleton/...
  - /run buildApp
  - /single startApp
watch:
  # Watcher commands will be started every time their related files are modified.
  # "*" at the end of path means watch recursively.
  "./controllers/*":
    - go generate ./controllers
    - /start getAssets
    - /run buildApp
    - /single startApp
  "./views/*":
    - /single startApp
  "./":
    - /run buildApp
    - /single startApp
  "./routes/*":
    - /run buildApp
    - /single startApp
buildApp:
  - go build -o ./bin/run:EXT github.com/colegion/goal/internal/skeleton
getAssets:
  # Getting dependencies for correct work of autocomplete in editors and IDEs.
  - go get github.com/colegion/goal/internal/skeleton/assets/...
startApp:
  - ./bin/run:EXT
