# goal.yml is a configuration file of "goal run" task runner / file watcher.
init:
  # Commands of this section will be executed once per start of `goal run`.
  - /echo "Starting work on 'github.com/colegion/goal/internal/skeleton'"
  - go generate ./...
  - go get github.com/colegion/goal/internal/skeleton/...
  - /run build
  - /single start
watch:
  # Watcher commands will be started every time their related files are modified.
  # "*" at the end of path means watch recursively. Empty tasks are not allowed.
  ./controllers/*:
    - go generate ./controllers
    - /start get
    - /run build
    - /single start
  ./views/*:
    - /single start
  ./:
    - /run build
    - /single start
  ./routes/*:
    - /run build
    - /single start
build:
  - go build -o ./bin/run:EXT github.com/colegion/goal/internal/skeleton
get:
  # Getting dependencies for correct work of autocomplete in editors and IDEs.
  - go get github.com/colegion/goal/internal/skeleton/assets/...
start: ./bin/run:EXT
